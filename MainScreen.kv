<ListItemWithCheckbox>:

    IconLeftWidget:
        icon: root.icon

    IconRightWidget:
        icon: "delete"
        on_release: app.remove_widget(root)

<CredentialsContent>
    orientation: "vertical"
    size_hint_y: None
    height: "175dp"

    MDTextField:
        id: old_password
        hint_text: "Old Password"
        password: True

    MDTextField:
        id: new_username
        hint_text: "New Username"

    MDTextField:
        id: new_password
        hint_text: "New Password"
        password: True

    MDTextField:
        id: confirm_password
        hint_text: "Confirm Password"
        password: True

MDScreen:
    name: "MainScreen"
    BoxLayout:
        orientation: 'vertical'

        MDBottomNavigation:

            MDBottomNavigationItem:
                name: 'screen 1'
                text: "Sensor Values"
                icon: 'monitor-dashboard'

                MDRectangleFlatButton:
                    text: "Log Out"
                    pos_hint: {'center_x': 0.8, 'center_y': 0.91}
                    on_release: app.log_out()

                MDRectangleFlatButton:
                    text: "Display Graphs"
                    pos_hint: {'center_x': 0.65, 'center_y': 0.91}
                    on_release: app.plot_graph()
                    
                MDLabel:
                    text: "Pond of Focus:"
                    font_style: "Subtitle1"
                    pos_hint: {"center_x": 0.575, "center_y": 0.9}

                MDDropDownItem:
                    id: pond_selection
                    pos_hint: {'center_x': 0.275, 'center_y': 0.9}
                    text: 'Pond 1'
                    on_release: app.pond_menu.open()

                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint: 0.25 , 0.25
                    pos_hint: {"center_x": 0.2, "center_y": 0.6}

                    MDLabel:
                        text: "Dissolved Oxygen (mg/L)"
                        theme_text_color: "Secondary"
                        text_color: (0,0,1,1)
                        size_hint_y: None
                        height: self.texture_size[1]

                    MDSeparator:
                        height: "1dp"

                    BoxLayout:
                        orientation:"horizontal"

                        MDLabel:
                            text: ""

                        MDLabel:
                            id: do_label
                            text: "00.00"
                            font_style: "H4"
                
                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint: 0.25 , 0.25
                    pos_hint: {"center_x": 0.5, "center_y": 0.6}


                    MDLabel:
                        text: u"Temperature (\N{DEGREE SIGN}C)"
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]

                    MDSeparator:
                        height: "1dp"

                    BoxLayout:
                        orientation:"horizontal"

                        MDLabel:
                            text: ""

                        MDLabel:
                            id: temp_label
                            text: "00.00"
                            font_style: "H4"

                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint: 0.25 , 0.25
                    pos_hint: {"center_x": 0.8, "center_y": 0.6}


                    MDLabel:
                        text: "pH"
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]

                    MDSeparator:
                        height: "1dp"

                    BoxLayout:
                        orientation:"horizontal"

                        MDLabel:
                            text: ""

                        MDLabel:
                            id: pH_label
                            text: "00.00"
                            font_style: "H4"

                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint: 0.25 , 0.25
                    pos_hint: {"center_x": 0.2, "center_y": 0.3}


                    MDLabel:
                        text: "Water Level (m)"
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]

                    MDSeparator:
                        height: "1dp"

                    BoxLayout:
                        orientation:"horizontal"

                        MDLabel:
                            text: ""

                        MDLabel:
                            id: water_level_label
                            text: "00.00"
                            font_style: "H4"

                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint: 0.25 , 0.25
                    pos_hint: {"center_x": 0.5, "center_y": 0.3}


                    MDLabel:
                        text: "Turbidity (NTU)"
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]

                    MDSeparator:
                        height: "1dp"

                    BoxLayout:
                        orientation:"horizontal"

                        MDLabel:
                            text: ""

                        MDLabel:
                            id: turbidity_label
                            text: "00.00"
                            font_style: "H4"

                MDCard:
                    orientation: "vertical"
                    padding: "8dp"
                    size_hint: 0.25 , 0.25
                    pos_hint: {"center_x": 0.8, "center_y": 0.3}


                    MDLabel:
                        text: "Salinity (mg/L)"
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]

                    MDSeparator:
                        height: "1dp"

                    BoxLayout:
                        orientation:"horizontal"

                        MDLabel:
                            text: ""

                        MDLabel:
                            id: salinity_label
                            text: "00.00"
                            font_style: "H4"

            MDBottomNavigationItem:
                name: 'screen 2'
                text: "Feeding"
                icon: 'grain'

                MDCard:
                    orientation: "vertical"
                    padding: "5dp"
                    size_hint: 0.95 , 0.2
                    pos_hint: {"center_x": 0.5, "center_y": 0.875}

                    BoxLayout:
                        orientation:"horizontal"
                        padding:"10dp"

                        MDLabel:
                            id: week_label
                            text: "Week 1"
                            font_style: "H4"
                
                        MDLabel:
                            text: ""
                            font_style: "H1"
                        
                        MDLabel:
                            text: ""
                            font_style: "H1"

                        MDLabel:
                            text: ""
                            font_style: "H1"
                        
                        MDLabel:
                            text: ""
                            font_style: "H1"

                        BoxLayout:
                            orientation:"vertical"
                        
                            MDLabel:
                                id: time_label
                                text: ""
                                font_style: "H5"

                            MDLabel:
                                id: date_label
                                text: ""
                                font_style: "Subtitle1"
                                theme_text_color: "Secondary"

                MDCard:
                    orientation: "vertical"
                    padding: "5dp"
                    size_hint: 0.4 , 0.4
                    pos_hint: {"center_x": 0.23, "center_y": 0.5}

                    MDBoxLayout:

                        ScrollView:

                            MDList:
                                id: feeding_time_list

                MDRectangleFlatButton:
                    text: "Open Time Picker"
                    size_hint: 0.4 , 0.075
                    pos_hint: {'center_x': 0.23, 'center_y': 0.21}
                    on_release: app.show_time_picker()

                MDLabel:
                    id: feeding_time_label
                    text: "00:00:00"
                    pos_hint: {'center_x': 0.6, 'center_y': 0.1}
                    font_style: "H4"

                MDRaisedButton:
                    text: "Add To List"
                    pos_hint: {'center_x': 0.37, 'center_y': 0.1}
                    on_release: app.add_to_feeding_list()

                MDCard:
                    orientation: "vertical"
                    padding: "5dp"
                    size_hint: 0.53 , 0.15
                    pos_hint: {"center_x": 0.711, "center_y": 0.625}

                    BoxLayout:
                        orientation:"horizontal"

                        FloatLayout:

                            MDIcon:
                                icon: "clock-time-two-outline"
                                pos_hint: {"center_x": 0.5, "center_y": 0.5}

                            MDLabel:
                                id: meteorologicalTime
                                text: "12pm"
                                pos_hint: {"center_x": 0.9, "center_y": 0.5}
                        
                        MDLabel:
                            text: ""

                        FloatLayout:

                            MDIcon:
                                icon: "temperature-celsius"
                                pos_hint: {"center_x": 0, "center_y": 0.5}
                                

                            MDLabel:
                                id: meteorologicalTemp
                                text: "86"
                                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        
                        MDLabel:
                            text: ""

                        FloatLayout:

                            MDIcon:
                                icon: "weather-rainy"
                                pos_hint: {"center_x": 0, "center_y": 0.5}

                            MDLabel:
                                id: meteorologicalPrecipitation
                                text: "11%"
                                pos_hint: {"center_x": 0.5, "center_y": 0.5}

                        MDLabel:
                            text: ""

                        FloatLayout:

                            MDIcon:
                                icon: "weather-windy"
                                pos_hint: {"center_x": 0, "center_y": 0.5}

                            MDLabel:
                                id: meteorologicalWind
                                text: "SSW 12mph"
                                pos_hint: {"center_x": 0.5, "center_y": 0.5}                            


                MDCard:
                    orientation: "vertical"
                    padding: "5dp"
                    size_hint: 0.25 , 0.23
                    pos_hint: {"center_x": 0.572, "center_y": 0.42}

                    MDLabel:
                        text: "Feed Type"
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]

                    MDSeparator:
                        height: "1dp"

                    BoxLayout:
                        orientation:"horizontal"

                        MDLabel:
                            id: feed_type_label
                            text: ""
                            font_style: "H4"

                MDCard:
                    orientation: "vertical"
                    padding: "5dp"
                    size_hint: 0.25 , 0.23
                    pos_hint: {"center_x": 0.572, "center_y": 0.175}

                    MDLabel:
                        text: "Feeding Frequency"
                        theme_text_color: "Secondary"
                        size_hint_y: None
                        height: self.texture_size[1]

                    MDSeparator:
                        height: "1dp"

                    BoxLayout:
                        orientation:"horizontal"

                        MDLabel:
                            id: feeding_frequency_label
                            text: ""
                            font_style: "H4"

                MDTextField:
                    id: fish_count
                    hint_text: "Fish Count"
                    text: "0"
                    size_hint_x: 0.2
                    pos_hint: {'center_x': 0.82, 'center_y': 0.45}
                    input_filter: "int"
                    on_text: app.save_fish_count(self.text)

                MDTextField:
                    id: fish_weight
                    hint_text: "Fish Weight (g)"
                    text: "0"
                    size_hint_x: 0.2
                    pos_hint: {'center_x': 0.82, 'center_y': 0.3}
                    input_filter: "int"
                    on_text: app.save_fish_weight(self.text)


            MDBottomNavigationItem:
                name: 'screen 3'
                text: "History"
                icon: 'history'

                ScrollView:

                    MDList:
                        id: history_list


            MDBottomNavigationItem:
                name: 'screen 4'
                text: "App Settings"
                icon: 'application-settings'

                MDCard:
                    orientation: "vertical"
                    padding: "5dp"
                    size_hint: 0.75 , 0.5
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

                    FloatLayout:
                    
                        MDLabel:
                            text: "Change your current username and password"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDRectangleFlatButton:
                            text: "Change Login Credentials"
                            pos_hint: {'center_x': 0.8, 'center_y': 0.5}
                            on_release: app.change_login_details_dialog()

                    MDSeparator:
                        height: "1dp"

                    FloatLayout:
                    
                        MDLabel:
                            text: "Email"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDTextField:
                            id: email
                            hint_text: "Enter address here"
                            size_hint_x: 0.45
                            pos_hint: {'center_x': 0.75, 'center_y': 0.4}

                    MDSeparator:
                        height: "1dp"

                    FloatLayout:
                    
                        MDLabel:
                            text: "Switch to Dark Mode"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDSwitch:
                            pos_hint: {'center_x': 0.8, 'center_y': 0.5}
                            on_active: app.on_switch_active(*args)

                    MDSeparator:
                        height: "1dp"

                    FloatLayout:
                    
                        MDLabel:
                            text: "Enable Data Logging"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDSwitch:
                            pos_hint: {'center_x': 0.8, 'center_y': 0.5}
                            on_active: app.log_data(*args)

                
            MDBottomNavigationItem:
                name: 'screen 5'
                text: "System Settings"
                icon: 'cog'

                MDCard:
                    orientation: "vertical"
                    padding: "5dp"
                    size_hint: 0.75 , 0.1
                    pos_hint: {"center_x": 0.5, "center_y": 0.9}

                    FloatLayout:

                        MDLabel:
                            text: "Select Species of Interest"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDDropDownItem:
                            id: species_selection
                            pos_hint: {'center_x': 0.8, 'center_y': 0.5}
                            text: 'Nile Tilapia'
                            on_release: app.species_menu.open()
                        
                MDLabel:
                    text: "Thresholds"
                    pos_hint: {'center_x': 0.63, 'center_y': 0.8}

                MDRectangleFlatButton:
                    text: "Reset Default"
                    size_hint_y: 0.07
                    pos_hint: {'center_x': 0.8, 'center_y': 0.8}
                    on_release: app.reset_default()

                MDCard:
                    orientation: "vertical"
                    padding: "5dp"
                    size_hint: 0.75 , 0.5
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

                    FloatLayout:
                    
                        MDLabel:
                            text: "Dissolved Oxygen (mg/L)"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDTextField:
                            id: minDO
                            hint_text: "Min Value"
                            text: "4"
                            size_hint_x: 0.1
                            pos_hint: {'center_x': 0.6, 'center_y': 0.4}
                            input_filter: "float"
                            on_text: app.save_minDO(self.text)

                        MDTextField:
                            id: maxDO
                            hint_text: "Max Value"
                            text: "8"
                            size_hint_x: 0.1
                            pos_hint: {'center_x': 0.9, 'center_y': 0.4}
                            input_filter: "float"
                            on_text: app.save_maxDO(self.text)

                    MDSeparator:
                        height: "1dp"

                    FloatLayout:
                    
                        MDLabel:
                            text: u"Temperature (\N{DEGREE SIGN}C)"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDTextField:
                            id: minTemp
                            hint_text: "Min Value"
                            text: "12"
                            size_hint_x: 0.1
                            pos_hint: {'center_x': 0.6, 'center_y': 0.4}
                            input_filter: "float"
                            on_text: app.save_minTemp(self.text)

                        MDTextField:
                            id: maxTemp
                            hint_text: "Max Value"
                            text: "42"
                            size_hint_x: 0.1
                            pos_hint: {'center_x': 0.9, 'center_y': 0.4}
                            input_filter: "float"
                            on_text: app.save_maxTemp(self.text)

                    MDSeparator:
                        height: "1dp"

                    FloatLayout:
                    
                        MDLabel:
                            text: "pH"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDTextField:
                            id: minpH
                            hint_text: "Min Value"
                            text: "7.5"
                            size_hint_x: 0.1
                            pos_hint: {'center_x': 0.6, 'center_y': 0.4}
                            input_filter: "float"
                            on_text: app.save_minpH(self.text)

                        MDTextField:
                            id: maxpH
                            hint_text: "Max Value"
                            text: "8.5"
                            size_hint_x: 0.1
                            pos_hint: {'center_x': 0.9, 'center_y': 0.4}
                            input_filter: "float"
                            on_text: app.save_maxpH(self.text)

                    MDSeparator:
                        height: "1dp"

                    FloatLayout:
                    
                        MDLabel:
                            text: "Salinity (mg/L)"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDTextField:
                            id: minSalinity
                            hint_text: "Min Value"
                            text: "0"
                            size_hint_x: 0.1
                            pos_hint: {'center_x': 0.6, 'center_y': 0.4}
                            input_filter: "float"
                            on_text: app.save_minSalinity(self.text)

                        MDTextField:
                            id: maxSalinity
                            hint_text: "Max Value"
                            text: "0.5"
                            size_hint_x: 0.1
                            pos_hint: {'center_x': 0.9, 'center_y': 0.4}
                            input_filter: "float"
                            on_text: app.save_maxSalinity(self.text)

                MDCard:
                    orientation: "vertical"
                    padding: "5dp"
                    size_hint: 0.75 , 0.2
                    pos_hint: {"center_x": 0.5, "center_y": 0.12}

                    FloatLayout:
                    
                        MDLabel:
                            text: "Use Meteorological Data for Feeding"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                        MDSwitch:
                            pos_hint: {'center_x': 0.9, 'center_y': 0.5}
                            on_active: app.use_meteorological_data(*args)

                    MDSeparator:
                        height: "1dp"

                    FloatLayout:

                        MDLabel:
                            text: "Use Water Quality Parameters for Feeding"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        
                        MDSwitch:
                            pos_hint: {'center_x': 0.9, 'center_y': 0.5}
                            on_active: app.water_quality_data(*args)

